{% extends app.request.isXmlHttpRequest ? "layout_ajax.html.twig" : "layout.html.twig" %}

{% block js %}
<script src="{{ asset('js/edit.js') }}" async></script>
{% endblock %}

{% block body %}
	<div class="margin-left">
    <div class="jumbotron form-horizontal">
		<h2>Edycja Studenta</h2>
        <br>
		<form id="form" role="form" class="form-horizontal" action="{{ path('update') }}" method="post">
			<div class="form-group">
				<label class="margin control-label col-sm-2" style="text-align: left;" for="imie"><h4><b>Imię:</b></h4></label>
				<div class="col-sm-5">
					<input type="name" class="form-control" id="imie" name="{{ student.imie }}" required value="{{ student.imie }}">
				</div>
			</div>
			<br>
			<div class="form-group">
				<label class="margin control-label col-sm-2" style="text-align: left;" for="nazwisko"><h4><b>Nazwisko:</b></h4></label>
				<div class="col-sm-5">
					<input type="name" class="form-control" id="nazwisko" name="{{ student.nazwisko }}" required value="{{ student.nazwisko }}">
				</div>
			</div>
			<br>
			<div class="form-group">
				<label class="margin control-label col-sm-2" style="text-align: left;" for="kierunek"><h4><b>Kierunek:</b></h4></label>
				<div class="col-sm-5">
					<input type="name" class="form-control" id="kierunek" name="{{ student.kierunek }}" required value="{{ student.kierunek }}">
				</div>
			</div>
			<br>
			<div class="form-group">
				<label class="margin control-label col-sm-2" style="text-align: left;" for="legitymacja"><h4><b>Nr Legitymacji:</b></h4></label>
				<div class="col-sm-5">
					<input type="name" class="form-control" id="legitymacja" name="{{ student.legitymacja }}" required value="{{ student.legitymacja }}">
				</div>
			</div>
			<div class="userdata" {% if user.email is not defined %} style="display: none;" {% endif %}>
				<br>
				<div class="form-group">
					<label class="margin control-label col-sm-2" style="text-align: left;" for="email"><h4><b>Email:</b></h4></label>
					<div class="col-sm-5">
					<input type="name" class="form-control" id="email" {% if user.email is defined %} name="{{ user.email }}" required value="{{ user.email }}" {% endif %}>
					</div>
				</div>
				<br>
				<div class="form-group">
					<label class="margin control-label col-sm-2" style="text-align: left;" for="login"><h4><b>Login:</b></h4></label>
					<div class="col-sm-5">
						<input type="text" class="form-control" id="login" {% if user.login is defined %} name="{{ user.login }}" required value="{{ user.login }}" {% endif %} placeholder="Wpisz nowy login">
					</div>
				</div>
				<br>
				<div class="form-group">
					<label class="margin control-label col-sm-2" style="text-align: left;" for="password"><h4><b>Hasło:</b></h4></label>
					<div class="col-sm-5">
						<input type="password" class="form-control" id="haslo" {% if user.haslo is defined %} name="{{ user.haslo }}" required value="{{ user.haslo }}" {% endif %} placeholder="Wpisz nowe hasło">
					</div>
				</div>
				<div class="form-group">
					<label class="margin control-label col-sm-2" style="text-align: left;" for="uprawnienia"><h4><b>Uprawnienia:</b></h4></label>
					<div class="col-sm-5">
						<select class="form-control" id="uprawnienia" {% if user.uprawnienia is defined %} name="{{ user.uprawnienia }}" required {% if user.id == '1' %} disabled {% endif %}{% endif %}>
							<option value="1" {% if user.uprawnienia is defined %} {% if user.uprawnienia == '1' %} selected {% endif %}{% endif %}>Użytkownik</option>
							<option value="2" {% if user.uprawnienia is defined %} {% if user.uprawnienia == '2' %} selected {% endif %}{% endif %}>Administrator</option>
						</select>
					</div>
				</div>
				</div>
			<br>
		</form>
		<button class="btn btn-warning" id="submit"><span class="glyphicon floppy-open"></span> Zapisz Zmiany</button>
        <button class="btn btn-primary" onclick='loadpage("{{ path('list') }}");'>Wróć do Listy Studentów</button>
		<br><br>
		<div id="result"></div>
    </div></div>
{% endblock %}